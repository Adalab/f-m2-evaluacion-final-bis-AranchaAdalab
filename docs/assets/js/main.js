"use strict";const start=document.querySelector(".start"),input=document.querySelectorAll(".input"),input4=document.querySelector("#four_cards"),input6=document.querySelector("#six_cards"),input8=document.querySelector("#eight_cards");let number=4;const list=document.querySelector(".cards_list"),photoAdalab="https://via.placeholder.com/160x195/30d9c4/ffffff/?text=ADALAB";let savedNumber=localStorage.getItem("number"),arrPair=[],finish=[];function numberCards(e){const t=e.currentTarget;number=t.value,localStorage.setItem("number",number)}function search(){list.innerHTML="",fetch(`https://raw.githubusercontent.com/Adalab/cards-data/master/${number}.json`).then(e=>e.json()).then(e=>{for(const t of e){const e=t.image,r=t.pair,n=document.createElement("li");n.classList.add("item_pokemon"),n.innerHTML=`<img class="pokemon_photo hidden" src="${e}"><img class="adalab_photo" src="${photoAdalab}"><p class="pair_number hidden">${r}</p>`,n.addEventListener("click",frontBack),list.appendChild(n)}})}function frontBack(e){const t=e.currentTarget,r=t.querySelectorAll("img");for(const e of r)e.classList.toggle("hidden");arrPair.includes(t)?arrPair=[]:arrPair.push(t),2===arrPair.length&&(game(arrPair),arrPair=[])}function game(e){let t=[],r=[];for(const n of e){const s=n.querySelector(".pair_number").innerHTML;t.push(s);const a=n.querySelector(".pokemon_photo"),o=n.querySelector(".adalab_photo");if(r.push(a,o),t[0]===t[1]){finish.push(t[0]),finish.push(t[1]);for(const t of e)t.removeEventListener("click",frontBack);for(const e of r)e.classList.contains("pokemon_photo")&&(e.classList.add("selected"),endGame())}else{if(t[0]===t[1]||2!==t.length)continue;setTimeout(()=>{for(const e of r)e.classList.contains("adalab_photo")?e.classList.remove("hidden"):e.classList.add("hidden")},1500)}}}function endGame(){finish.length===number?alert("¡Has ganado!"):finish.length===savedNumber&&alert("¡Has ganado!")}null===savedNumber?(input4.setAttribute("checked",""),number=4):"4"===savedNumber?(input4.setAttribute("checked",""),number=4):"6"===savedNumber?(input6.setAttribute("checked",""),number=6):(input8.setAttribute("checked",""),number=8);for(const e of input)e.addEventListener("change",numberCards);start.addEventListener("click",search);